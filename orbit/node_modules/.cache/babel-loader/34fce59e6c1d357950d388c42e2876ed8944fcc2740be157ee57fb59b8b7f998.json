{"ast":null,"code":"var _jsxFileName = \"/home/rokey/orbit/src/App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useEffect, useState } from \"react\";\nimport mqttClient from \"./mqttClient\";\nimport artworks from \"./data/artworks\";\nimport ArtworkList from \"./ArtworkList\";\nimport ArtworkDetail from \"./ArtworkDetail\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [step, setStep] = useState(\"list\");\n  const [selectedArtwork, setSelectedArtwork] = useState(null);\n\n  // ‚úÖ MQTT Î∞úÌñâ + ÏàòÏã† Ï≤òÎ¶¨\n  useEffect(() => {\n    mqttClient.on(\"connect\", () => {\n      console.log(\"‚úÖ MQTT connected\");\n      mqttClient.subscribe(\"/status/robot2\", err => {\n        if (err) console.error(\"‚ùå Subscribe error:\", err);\n      });\n    });\n    mqttClient.on(\"message\", (topic, message) => {\n      if (topic === \"/status/robot2\") {\n        try {\n          const data = JSON.parse(message.toString());\n          console.log(\"üì• Î∞õÏùÄ Î©îÏãúÏßÄ:\", data);\n          if (data.status === \"arrived\") {\n            const art = artworks.find(a => a.id === data.id);\n            setSelectedArtwork(art);\n            setStep(\"detail\");\n          }\n        } catch (e) {\n          console.error(\"‚ùå JSON ÌååÏã± Ïã§Ìå®:\", e);\n        }\n      }\n    });\n  }, []);\n\n  // ‚úÖ ÏûëÌíà ÏÑ†ÌÉù Ïãú Î∞úÌñâ\n  const handleSelect = art => {\n    const payload = JSON.stringify({\n      id: art.id\n    });\n    mqttClient.publish(\"/request/artwork\", payload);\n    console.log(\"üì§ Î∞úÌñâÎê®:\", payload);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"ORBIT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), step === \"list\" && /*#__PURE__*/_jsxDEV(ArtworkList, {\n      onSelect: handleSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 27\n    }, this), step === \"detail\" && selectedArtwork && /*#__PURE__*/_jsxDEV(ArtworkDetail, {\n      artwork: selectedArtwork\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"QZiJX5IQ8y0lzwrPJOZIQP5PBbE=\");\n_c = App;\nexport default App;\nconst AppContainer = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: #f8f8f8;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  padding-top: 15vh;\n`;\nconst Layout = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n`;\nconst Title = styled.h1`\n  font-size: 5rem;\n  color: #222;\n  margin-bottom: 8vh; \n  letter-spacing: 0.1rem; \n`;\nconst Subtitle = styled.h2`\n  font-size: 2.5rem;\n  margin-bottom: 6vh;\n`;\nconst ModeSelectContainer = styled.div`\n  display: flex;\n  gap: 10rem;\n  margin-top: 3vh; \n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: center;\n  }\n`;\nconst Button = styled.button`\n  font-size: 2rem;\n  padding: 2rem 3.5rem;  \n  border-radius: 16px;   \n  border: none;\n  background-color: #333;\n  color: white;\n  cursor: pointer;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: #555;\n  }\n\n  &:active {\n    background-color: #111;\n  }\n`;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","mqttClient","artworks","ArtworkList","ArtworkDetail","jsxDEV","_jsxDEV","App","_s","step","setStep","selectedArtwork","setSelectedArtwork","on","console","log","subscribe","err","error","topic","message","data","JSON","parse","toString","status","art","find","a","id","e","handleSelect","payload","stringify","publish","children","fileName","_jsxFileName","lineNumber","columnNumber","onSelect","artwork","_c","AppContainer","styled","div","Layout","Title","h1","Subtitle","h2","ModeSelectContainer","Button","button","$RefreshReg$"],"sources":["/home/rokey/orbit/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useEffect, useState } from \"react\";\nimport mqttClient from \"./mqttClient\";\nimport artworks from \"./data/artworks\";\nimport ArtworkList from \"./ArtworkList\";\nimport ArtworkDetail from \"./ArtworkDetail\";\n\nfunction App() {\n  const [step, setStep] = useState(\"list\");\n  const [selectedArtwork, setSelectedArtwork] = useState(null);\n\n  // ‚úÖ MQTT Î∞úÌñâ + ÏàòÏã† Ï≤òÎ¶¨\n  useEffect(() => {\n    mqttClient.on(\"connect\", () => {\n      console.log(\"‚úÖ MQTT connected\");\n      mqttClient.subscribe(\"/status/robot2\", (err) => {\n        if (err) console.error(\"‚ùå Subscribe error:\", err);\n      });\n    });\n\n    mqttClient.on(\"message\", (topic, message) => {\n      if (topic === \"/status/robot2\") {\n        try {\n          const data = JSON.parse(message.toString());\n          console.log(\"üì• Î∞õÏùÄ Î©îÏãúÏßÄ:\", data);\n          if (data.status === \"arrived\") {\n            const art = artworks.find((a) => a.id === data.id);\n            setSelectedArtwork(art);\n            setStep(\"detail\");\n          }\n        } catch (e) {\n          console.error(\"‚ùå JSON ÌååÏã± Ïã§Ìå®:\", e);\n        }\n      }\n    });\n  }, []);\n\n  // ‚úÖ ÏûëÌíà ÏÑ†ÌÉù Ïãú Î∞úÌñâ\n  const handleSelect = (art) => {\n    const payload = JSON.stringify({ id: art.id });\n    mqttClient.publish(\"/request/artwork\", payload);\n    console.log(\"üì§ Î∞úÌñâÎê®:\", payload);\n  };\n\n  return (\n    <div>\n      <h1>ORBIT</h1>\n      {step === \"list\" && <ArtworkList onSelect={handleSelect} />}\n      {step === \"detail\" && selectedArtwork && (\n        <ArtworkDetail artwork={selectedArtwork} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n\n\n\nconst AppContainer = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: #f8f8f8;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  padding-top: 15vh;\n`;\n\nconst Layout = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n`;\n\nconst Title = styled.h1`\n  font-size: 5rem;\n  color: #222;\n  margin-bottom: 8vh; \n  letter-spacing: 0.1rem; \n`;\n\nconst Subtitle = styled.h2`\n  font-size: 2.5rem;\n  margin-bottom: 6vh;\n`;\n\nconst ModeSelectContainer = styled.div`\n  display: flex;\n  gap: 10rem;\n  margin-top: 3vh; \n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nconst Button = styled.button`\n  font-size: 2rem;\n  padding: 2rem 3.5rem;  \n  border-radius: 16px;   \n  border: none;\n  background-color: #333;\n  color: white;\n  cursor: pointer;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: #555;\n  }\n\n  &:active {\n    background-color: #111;\n  }\n`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}